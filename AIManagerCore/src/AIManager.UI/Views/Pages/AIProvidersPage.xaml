<Page x:Class="AIManager.UI.Views.Pages.AIProvidersPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="AI Providers">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="AI Providers" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

        <ItemsControl Grid.Row="1" x:Name="ProvidersList">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <materialDesign:Card Width="280" Height="180" Margin="10" Padding="15">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="{Binding Icon}" Width="32" Height="32" VerticalAlignment="Center"/>
                                <StackPanel Margin="10,0,0,0">
                                    <TextBlock Text="{Binding Name}" FontSize="16" FontWeight="Bold"/>
                                    <TextBlock Text="{Binding PriceTag}" FontSize="10" FontWeight="Bold"
                                               Foreground="{Binding PriceColor}"/>
                                </StackPanel>
                            </StackPanel>

                            <TextBlock Grid.Row="1" Text="{Binding Description}" TextWrapping="Wrap"
                                       Foreground="Gray" Margin="0,10,0,0"/>

                            <StackPanel Grid.Row="2" Orientation="Horizontal">
                                <Ellipse Width="10" Height="10" Margin="0,0,8,0">
                                    <Ellipse.Style>
                                        <Style TargetType="Ellipse">
                                            <Setter Property="Fill" Value="#F44336"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsConfigured}" Value="True">
                                                    <Setter Property="Fill" Value="#4CAF50"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Ellipse.Style>
                                </Ellipse>
                                <TextBlock>
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Text" Value="Not Configured"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsConfigured}" Value="True">
                                                    <Setter Property="Text" Value="Configured"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </StackPanel>
                        </Grid>
                    </materialDesign:Card>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</Page>
